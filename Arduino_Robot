#include <Adafruit_MotorShield.h>
#include <hp_BH1750.h>

hp_BH1750 lightSensor; //lux sensor

//Defining motor pins
#define POS_MOTOR_RF //right front - set
#define NEG_MOTOR_LF //left front - set

#define POS_MOTOR_RB //right back - set
#define NEG_MOTOR_LB //left back - set

//Instantiating the motorshield
Adafruit_MotorShield AFMS = Adafruit_MotorShield(); //default board constructor

//Accessing the motors from the motorshield
Adafruit_DCMotor *POS_MOTOR_RF = AFMS.getMotor(POS_MOTOR_RF);
Adafruit_DCMotor *NEG_MOTOR_LF = AFMS.getMotor(POS_MOTOR_LF);

Adafruit_DCMotor *POS_MOTOR_RB = AFMS.getMotor(POS_MOTOR_RB);
Adafruit_DCMotor *NEG_MOTOR_LB = AFMS.getMotor(POS_MOTOR_LB);

//defining IR pins 
#define IR_PRF ; //right front - black - SET
#define IR_PLF ; //left front - black - SET
#define IR_PB ; // back - black - SET





void setup() {
  int IRrf = digitalRead(IR_PRF);
  int IRlf = digitalRead(IR_PLF);
  int IRb = digitalRead(IR_PB);

  lightSensor.begin(BH1750_TO_GROUND); 

  AFMS.begin();
  POS_MOTOR_RF->setSpeed(0);
  POS_MOTOR_RF->run(RELEASE);

  NEG_MOTOR_LF->setSpeed(0);
  NEG_MOTOR_LF->run(RELEASE);

  POS_MOTOR_RB->setSpeed(0);
  POS_MOTOR_RB->run(RELEASE);

  NEG_MOTOR_LB->setSpeed(0);
  NEG_MOTOR_LB->run(RELEASE);


   //Flashlight trigger 
  lightsensor.start();
  int lux = lightSensor.getLux();

  if(lux >= ){ //Set lux value 
    POS_MOTOR_RF->setSpeed(255);
    NEG_MOTOR_LF->setSpeed(255);
    POS_MOTOR_RF->run(FORWARD);
    NEG_MOTOR_LF->run(FORWARD);

    POS_MOTOR_RB->setSpeed(255);
    NEG_MOTOR_LB->setSpeed(255);
    POS_MOTOR_RB->run(FORWARD);
    NEG_MOTOR_LB->run(FORWARD);
  }

}

void loop() {
  // put your main code here, to run repeatedly:


 
  //Four IR sensors - 2 in front check for black - 1 in back check for black 

  

    while (){
      //go straight 
      //2 in front detect white - 1 in back detect black 
      //all four wheels go 

      POS_MOTOR_RF->setSpeed(255);
      NEG_MOTOR_LF->setSpeed(255);
      POS_MOTOR_RF->run(FORWARD);
      NEG_MOTOR_LF->run(FORWARD);

      POS_MOTOR_RB->setSpeed(255);
      NEG_MOTOR_LB->setSpeed(255);
      POS_MOTOR_RB->run(FORWARD);
      NEG_MOTOR_LB->run(FORWARD);
    } //end of go straight loop

  //right turn 
    //Left front detects white, right front detects black - 1 in back detects black 
    //3 wheels stop except for left front wheel 
      //until back detects black and front 2 detect black again 

  //left turn 
    //Left front detects black, right front detects white - 1 in back detects black 
    //3 wheels stop except for left front wheel 


  //off track 
    //all 3 IR pins detect white 
      // reverse until CONDITION

    

  //End of race 
    //Two in front detect black and one in back detects black 
      //stop all four wheels  


   

  

}
